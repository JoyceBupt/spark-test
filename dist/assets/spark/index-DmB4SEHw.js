import"../modulepreload-polyfill-B5Qt9EMX.js";import{S as c,P as m,W as p}from"../three.module-i82FoDp4.js";import{S as g,a as w}from"../spark.module-BSJ8aZ7e.js";import{V as f,S as u}from"../stats.min-C3j8OIP4.js";new f;const t=new u;t.showPanel(0);document.body.appendChild(t.dom);t.dom.style.top="10px";t.dom.style.right="10px";t.dom.style.left="auto";t.dom.style.transform="scale(3)";t.dom.style.transformOrigin="top right";const a=new c,i=new m(75,window.innerWidth/window.innerHeight,.1,1e3);i.position.z=2;const n=new p({antialias:!1});n.setPixelRatio(window.devicePixelRatio);n.setClearColor(16777215);n.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(n.domElement);const d=n.getContext(),r=d.getExtension("WEBGL_debug_renderer_info"),E=r?d.getParameter(r.UNMASKED_RENDERER_WEBGL):"N/A";console.log(`Spark (Three.js) using: ${d.getParameter(d.VERSION)}`);console.log(`GPU: ${E}`);const h=new g({canvas:n.domElement});let e=null,s=!1;const y=.01;function l(o){e&&(a.remove(e),typeof e.dispose=="function"&&e.dispose()),e=new w({url:o}),e.position.set(0,0,-1),e.scale.set(5,5,5),a.add(e)}function S(){s=!s;const o=document.getElementById("rotateToggle");s?(o.textContent="停止旋转",o.classList.add("active")):(o.textContent="开启旋转",o.classList.remove("active"))}document.getElementById("load56k").addEventListener("click",()=>{l("/splats/model_56k.ply")});document.getElementById("load150k").addEventListener("click",()=>{l("/splats/model_150k.ply")});document.getElementById("rotateToggle").addEventListener("click",S);l("/splats/model_56k.ply");window.addEventListener("resize",()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)});n.setAnimationLoop(function(){t.begin(),h.update(i),e&&s&&(e.rotation.y+=y),n.render(a,i),t.end()});
