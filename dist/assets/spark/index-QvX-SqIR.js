import"../modulepreload-polyfill-B5Qt9EMX.js";import{S as l,P as r,W as c}from"../three.module-i82FoDp4.js";import{S as m,a as p}from"../spark.module-BSJ8aZ7e.js";import{V as w,S as f}from"../stats.min-C3j8OIP4.js";new w;const s=new f;s.showPanel(0);document.body.appendChild(s.dom);const d=new l,o=new r(75,window.innerWidth/window.innerHeight,.1,1e3);o.position.z=2;const t=new c({antialias:!1});t.setPixelRatio(window.devicePixelRatio);t.setClearColor(16777215);t.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(t.domElement);const g=new m({canvas:t.domElement});let e=null,i=!1;const u=.01;function a(n){e&&(d.remove(e),typeof e.dispose=="function"&&e.dispose()),e=new p({url:n}),e.position.set(0,0,-1),e.scale.set(5,5,5),d.add(e)}function h(){i=!i;const n=document.getElementById("rotateToggle");i?(n.textContent="停止旋转",n.classList.add("active")):(n.textContent="开启旋转",n.classList.remove("active"))}document.getElementById("load56k").addEventListener("click",()=>{a("/splats/model_56k.ply")});document.getElementById("load150k").addEventListener("click",()=>{a("/splats/model_150k.ply")});document.getElementById("rotateToggle").addEventListener("click",h);a("/splats/model_56k.ply");window.addEventListener("resize",()=>{o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)});t.setAnimationLoop(function(){s.begin(),g.update(o),e&&i&&(e.rotation.y+=u),t.render(d,o),s.end()});
